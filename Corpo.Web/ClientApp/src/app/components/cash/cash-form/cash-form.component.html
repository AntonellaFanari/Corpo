<section class="wrapper">
  <div class="row mt">
    <div class="col-md-12">
      <hr>
      <section id="no-more-tables">
        <table class="table table-bordered">
          <tbody>
            <tr class="header-td">
              <td colspan="4">FECHA DE CAJA: {{date | date: 'dd/MM/yyyy'}}- CAJA ACTUAL: $10</td>
            </tr>
            <tr class="total" data-title="Cuotas">
              <td class="initial-cash">CI: $100</td>
              <td class="end-cash">Saldo final: $440700<button class="btn btn-primary m-2"><i class="fa fa-plus"></i></button></td>
            </tr>
            <tr>
              <td data-title="Ingresos" class="text-center">TOTAL: ${{feeTotalPay + saleTotalPay}}</td>
              <td data-title="Egresos" class="text-center">TOTAL: ${{outflowTotalPay + withdrawalTotalPay}}</td>
            </tr>
          </tbody>
        </table>
        <table class="table table-bordered table-condensed cf">
          <thead class="cf">

            <tr class="scrollme">
              <th colspan="1" class="bg-info text-center td-button text-white" [routerLink]="['/cuota-agregar']">
                Cuotas
              </th>
              <th colspan="1" class="bg-success text-center td-button text-white" [routerLink]="['/venta-agregar']">
                Ventas
              </th>
              <th colspan="1" class="bg-danger text-center td-button text-white" [routerLink]="['/egreso']">
                Egresos
              </th>
              <th colspan="1" class="bg-secondary text-center td-button text-white" [routerLink]="['/retiro']">
                Retiros
              </th>
            </tr>
          </thead>
          <tbody>
            <tr class="scrollme">
              <td data-title="Cuotas">
                <table class="table table-bordered table-condensed cf table-td">
                  <tbody>
                    <tr *ngFor="let fee of fees; index as i">
                      <td class="cursor" (click)="getDetailFee(fee)">{{fee.pay}}</td>
                    </tr>
                    <tr class="total-responsive table-td-total">
                      <td class="bg-success cursor">Total: {{feeTotalPay}}</td>
                    </tr>
                  </tbody>
                </table>
              </td>
              <td data-title="Ventas">
                <table class="table table-bordered table-condensed cf table-td">
                  <tbody>
                    <tr *ngFor="let sale of sales; index as i">
                      <td [ngStyle]="{'color':sale.status==2?'red':'#09b4f5'}" class="cursor" (click)="getDetailsSale(sale)">{{sale.pay}}</td>
                    </tr>
                    <tr class="total-responsive table-td-total">
                      <td class="bg-success cursor">Total: {{saleTotalPay}}</td>
                    </tr>
                  </tbody>
                </table>
              </td>
              <td data-title="Egresos">
                <table class="table table-bordered table-condensed cf table-td">
                  <tbody>
                    <tr *ngFor="let outflow of outflows; index as i">
                      <td class="cursor" (click)="getDetailOutflow(outflow)">{{outflow.pay}}</td>
                    </tr>
                    <tr class="total-responsive table-td-total">
                      <td class="bg-success cursor">Total: {{outflowTotalPay}}</td>
                    </tr>
                  </tbody>
                </table>
              </td>
              <td data-title="Retiros">
                <table class="table table-bordered table-condensed cf table-td">
                  <tbody>
                    <tr *ngFor="let withdrawal of withdrawals; index as i">
                      <td class="cursor" (click)="getDetailWithdrawal(withdrawal)">{{withdrawal.pay}}</td>
                    </tr>
                    <tr class="total-responsive table-td-total">
                      <td class="bg-success cursor">Total: {{withdrawalTotalPay}}</td>
                    </tr>
                  </tbody>
                </table>
              </td>
            </tr>
          </tbody>
          <tfoot class="total-non-responsive table-td-total">
            <tr class="scrollme">
              <td class="cursor">{{feeTotalPay}}</td>
              <td class="cursor">{{saleTotalPay}}</td>
              <td class="cursor">{{outflowTotalPay}}</td>
              <td class="cursor">{{withdrawalTotalPay}}</td>
            </tr>
          </tfoot>
        </table>
        <div><button class="btn btn-dark form-control">Cerrar Caja</button></div>
      </section>
    </div>
    <!-- /content-panel -->
  </div>
  <!-- /col-md-12 -->
</section>

<app-sale-edit (updateSales)="getAllSale()"></app-sale-edit>
<app-outflow-detail (updateOutflows)="getAllOutflow()"></app-outflow-detail>
<app-fee-detail (updateFee)="getAllFee()"></app-fee-detail>
<app-withdrawal-detail (updateWithdrawal)="getAllWithdrawal()"></app-withdrawal-detail>
